####################################################################
#
# A Project of TNET Services, Inc
#
# Title:     rpi-wiggle
# Author:    Kevin Reed (Dweeber)
#            dweeber.dweebs@gmail.com
# Credits:   jojopi on Raspberry Pi Forum who provided sample code
#            
# Project:   Raspberry Pi Stuff
# Copyright: Released to the Public Domain
# Status:    THIS IS EXPERIMENTAL USE AT YOUR OWN RISK
#            THIS IS NOT A WORKING SCRIPT AT THIS TIME!
#
####################################################################

PURPOSE:

The purpose of this script is to expand the current FS to the full
size of the SDCard but to make sure that it is small enough so that
if you make an image of it (like using Win32 Disk Imager), you can
be assured that it will fit on a new SDCard of the same size.

The expand function included in the raspi-config uses the full 
extent of the SDCard which many times makes an image that cannot
be loaded on another SDcard even if it is the same size.  Many times
it is simply 1 or 2 blocks too large.

USAGE:

As root, you run rpi-wiggle and it calculates the max size of the
current SDCard by GB and then backs off a bit to ensure that it
will load on most SDcards of that same size. 

It then using fdisk to setup the parameters.

The script then needs to reboot the system and then finish the
process by doing the command: resize2fs /dev/mmcblk0p2

The script should then remove the temp script and allow the 
user to the login prompt.

When done, you will have used the full SDCard but be a little
shorter thus allowing an image to be made and successful transfer
to other like sized SDcards.

####################################################################
                  SCRIPT IS IN BETA TESTING NOW
####################################################################

HISTORY:

2012-09-14 Released to a few for testing and feedback
2012-09-14 Added remaining sections of script.  Ready to test
2012-09-10 Updated Readme file
2012-09-09 Setup Repository and basic script

KNOWN ISSUES:

When run, the script will output the following errors:

update-rc.d: using dependency based boot sequencing
update-rc.d: warning: default start runlevel arguments (2 3 4 5) do 
not match resize2fs_once Default-Start values (2 3 4 5 S)
update-rc.d: warning: default stop runlevel arguments (0 1 6) do not 
match resize2fs_once Default-Stop values (none)

These errors do not affect the running of the script.  Not sure how 
to suppress them

WHY WIGGLE?

Expands to the size of the SDcard but has some wiggle room left so 
that if you make an image, it can be saved to a like sized SDCard 
without worrying about it fitting.  Couldn't think of anything else
to call it.

